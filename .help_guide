NAME

	deploy-ceph tool

DESCRIPTION

	This tool is used to install ceph from ceph.com official repository; deploy ceph cluster

STEP BY STEP

	1. Set conf/all.conf
	This file will both being used in ceph install and ceph deploy

	2. Check the network connection
	cd deploy/prepare-scripts; bash preinstall_check.sh #Check your current network being able to connect to ceph.com and each nodes you wanna deploy
	If this step failed, you can use the configure_autossh.sh scripts in the same folder to configure the auto ssh to other nodes

	3. Remove installed ceph
	If you wanna use ceph-deploy install ceph, you'd better remove current ceph
	bash deploy-ceph.sh purge  or  enter your ceph dir to make uninstall

	4. Install ceph
	bash deploy-ceph.sh install
	You can see ceph -v at the end if you succeeded in installing ceph

	5. Deploy ceph mon
	bash deploy-ceph.sh deploy mon
	Monitor number should be an odd number

	6. Deploy ceph mds/osd
	*Before deploying osd, you can change the ceph.conf in deploy folder which is generated by "ceph-deploy mon" for some cluster setting; or you can also set it in runtime
	Bash deploy-ceph.sh deploy osd
	
	7. Check ceph healthy
	ceph -s
	You should see ceph is healthy now, if not, there could be some reasons below
        
	a) pg number is too big or too small
	ceph osd pool set {pool-name} pg_num {pg_num}
	ceph osd pool set {pool-name} pgp_num {pgp_num}

	b) replica number is larger then ceph cluster nodes number
	ceph osd pool set {pool-name} size {replica_size}
